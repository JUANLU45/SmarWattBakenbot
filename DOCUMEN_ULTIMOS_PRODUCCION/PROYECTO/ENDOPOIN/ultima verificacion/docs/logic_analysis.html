<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmarWatt - An√°lisis de L√≥gica de Endpoints</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; padding: 20px; background: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; background: white; padding: 30px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        h1 { color: #2E7D32; border-bottom: 3px solid #4CAF50; padding-bottom: 10px; }
        h2 { color: #1976D2; margin-top: 30px; }
        h3 { color: #795548; }
        .endpoint { background: #f9f9f9; padding: 20px; margin: 15px 0; border-radius: 8px; border-left: 5px solid #4CAF50; }
        .complexity { display: inline-block; padding: 4px 12px; border-radius: 15px; color: white; font-weight: bold; }
        .complexity-low { background: #4CAF50; }
        .complexity-medium { background: #FF9800; }
        .complexity-high { background: #F44336; }
        .logic-section { margin: 15px 0; }
        .logic-title { font-weight: bold; color: #1976D2; margin-bottom: 8px; }
        .logic-list { background: white; padding: 10px; border-radius: 4px; }
        .method-tag { display: inline-block; padding: 2px 8px; margin: 2px; border-radius: 4px; font-size: 12px; font-weight: bold; }
        .method-get { background: #4CAF50; color: white; }
        .method-post { background: #2196F3; color: white; }
        .method-put { background: #FF9800; color: white; }
        .method-delete { background: #F44336; color: white; }
        pre { background: #263238; color: #ECEFF1; padding: 15px; border-radius: 4px; overflow-x: auto; }
        .service-tag { display: inline-block; padding: 2px 6px; margin: 2px; background: #E3F2FD; color: #1976D2; border-radius: 3px; font-size: 11px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîç SmarWatt - An√°lisis de L√≥gica de Endpoints</h1>
        <p><strong>An√°lisis autom√°tico de l√≥gica interna de endpoints</strong> - Generado autom√°ticamente</p>

        <h2>üîß Energy IA API</h2>
        <p><strong>Total de endpoints analizados:</strong> 14</p>

        <div class="endpoint">
            <h3>/tariffs/recommendations <span class="complexity complexity-high">Complejidad: Alta (7/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-get">GET</span></p>
            <p><strong>Funci√≥n:</strong> <code>get_tariff_recommendations_route</code> | <strong>Archivo:</strong> routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üìù Par√°metros:</div>
                <div class="logic-list">
<strong>Validation Rules:</strong> expert_bot_url, consumption_data, all<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Firebase:</strong> <span class="service-tag">Auth</span><br><strong>Requests:</strong> <span class="service-tag">HTTP</span><span class="service-tag">requests.</span><br><strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">‚úÖ Validaciones:</div>
                <div class="logic-list">
‚Ä¢ <strong>required_field:</strong> expert_bot_url<br>‚Ä¢ <strong>required_field:</strong> consumption_data<br>‚Ä¢ <strong>required_field:</strong> all<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Validar que tenemos datos m√≠nimos<br>‚Ä¢ Preparar datos para el motor de recomendaciones<br>‚Ä¢ Validar datos cr√≠ticos<br></div></div></div>
        <div class="endpoint">
            <h3>/tariffs/market-data <span class="complexity complexity-low">Complejidad: Baja (2/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-get">GET</span></p>
            <p><strong>Funci√≥n:</strong> <code>get_market_data</code> | <strong>Archivo:</strong> routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Estad√≠sticas del mercado<br></div></div></div>
        <div class="endpoint">
            <h3>/admin/tariffs/add <span class="complexity complexity-high">Complejidad: Alta (9/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-post">POST</span><span class="method-tag method-options">OPTIONS</span></p>
            <p><strong>Funci√≥n:</strong> <code>add_tariff_data</code> | <strong>Archivo:</strong> routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üìù Par√°metros:</div>
                <div class="logic-list">
<strong>Validation Rules:</strong> data<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Bigquery:</strong> <span class="service-tag">bq_client</span><span class="service-tag">bigquery</span><span class="service-tag">BigQuery</span><br><strong>Firebase:</strong> <span class="service-tag">Auth</span><br><strong>Requests:</strong> <span class="service-tag">HTTP</span><br><strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">‚úÖ Validaciones:</div>
                <div class="logic-list">
‚Ä¢ <strong>required_field:</strong> data<br>‚Ä¢ <strong>enum_validation:</strong> field<br>‚Ä¢ <strong>custom_error:</strong> Datos de tarifa requeridos<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Manejar petici√≥n OPTIONS para CORS<br>‚Ä¢ Validar campos requeridos<br>‚Ä¢ Preparar datos para inserci√≥n con CAMPOS EXACTOS de BigQuery<br>‚Ä¢ Insertar en BigQuery (misma tabla que el script)<br>‚Ä¢ Duplicado confirmado ‚Üí Retornar error 409 pero NO parar sistema<br></div></div></div>
        <div class="endpoint">
            <h3>/admin/tariffs/batch-add <span class="complexity complexity-high">Complejidad: Alta (10/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-post">POST</span><span class="method-tag method-options">OPTIONS</span></p>
            <p><strong>Funci√≥n:</strong> <code>batch_add_tariffs</code> | <strong>Archivo:</strong> routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üìù Par√°metros:</div>
                <div class="logic-list">
<strong>Validation Rules:</strong> data, isinstance, all<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Bigquery:</strong> <span class="service-tag">bq_client</span><span class="service-tag">bigquery</span><span class="service-tag">BigQuery</span><br><strong>Firebase:</strong> <span class="service-tag">Auth</span><br><strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">‚úÖ Validaciones:</div>
                <div class="logic-list">
‚Ä¢ <strong>required_field:</strong> data<br>‚Ä¢ <strong>required_field:</strong> isinstance<br>‚Ä¢ <strong>required_field:</strong> all<br>‚Ä¢ <strong>type_validation:</strong> tariffs<br>‚Ä¢ <strong>custom_error:</strong> Lista de tarifas requerida<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Manejar petici√≥n OPTIONS para CORS<br>‚Ä¢ Procesar cada tarifa<br>‚Ä¢ Validar campos b√°sicos<br>‚Ä¢ Preparar datos con CAMPOS EXACTOS de BigQuery<br>‚Ä¢ Insertar en BigQuery si hay tarifas v√°lidas<br></div></div></div>
        <div class="endpoint">
            <h3>/tariffs/compare <span class="complexity complexity-high">Complejidad: Alta (10/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-post">POST</span><span class="method-tag method-options">OPTIONS</span></p>
            <p><strong>Funci√≥n:</strong> <code>compare_tariffs</code> | <strong>Archivo:</strong> routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üìù Par√°metros:</div>
                <div class="logic-list">
<strong>Validation Rules:</strong> data, isinstance, selected_tariffs<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Firebase:</strong> <span class="service-tag">Auth</span><br><strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">‚úÖ Validaciones:</div>
                <div class="logic-list">
‚Ä¢ <strong>required_field:</strong> data<br>‚Ä¢ <strong>required_field:</strong> isinstance<br>‚Ä¢ <strong>length_validation:</strong> selected_tariffs<br>‚Ä¢ <strong>type_validation:</strong> tariff_ids<br>‚Ä¢ <strong>custom_error:</strong> IDs de tarifas requeridos<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Manejar petici√≥n OPTIONS para CORS<br>‚Ä¢ Obtener perfil del usuario<br>‚Ä¢ Obtener tarifas espec√≠ficas<br>‚Ä¢ Filtrar tarifas solicitadas<br>‚Ä¢ Obtener perfil de consumo (simulado para comparaci√≥n)<br></div></div></div>
        <div class="endpoint">
            <h3>/message <span class="complexity complexity-medium">Complejidad: Media (4/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-post">POST</span></p>
            <p><strong>Funci√≥n:</strong> <code>send_chat_message</code> | <strong>Archivo:</strong> chatbot_routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üìù Par√°metros:</div>
                <div class="logic-list">
<strong>Validation Rules:</strong> json_data<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">‚úÖ Validaciones:</div>
                <div class="logic-list">
‚Ä¢ <strong>required_field:</strong> json_data<br>‚Ä¢ <strong>custom_error:</strong> Petici√≥n inv√°lida. Se requiere el campo <br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Validar datos de entrada<br>‚Ä¢ Obtener servicio de chat con manejo de errores<br>‚Ä¢ Obtener contexto del usuario de forma robusta<br>‚Ä¢ Usar contexto m√≠nimo como fallback<br>‚Ä¢ Enviar mensaje con contexto<br></div></div></div>
        <div class="endpoint">
            <h3>/message/v2 <span class="complexity complexity-medium">Complejidad: Media (5/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-post">POST</span></p>
            <p><strong>Funci√≥n:</strong> <code>send_chat_message_v2</code> | <strong>Archivo:</strong> chatbot_routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üìù Par√°metros:</div>
                <div class="logic-list">
<strong>Validation Rules:</strong> json_data, user_context<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">‚úÖ Validaciones:</div>
                <div class="logic-list">
‚Ä¢ <strong>required_field:</strong> json_data<br>‚Ä¢ <strong>required_field:</strong> user_context<br>‚Ä¢ <strong>custom_error:</strong> Petici√≥n inv√°lida. Se requiere el campo <br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Contexto directo<br>‚Ä¢ Obtener servicio de chat<br>‚Ä¢ Si no hay contexto directo, obtenerlo<br>‚Ä¢ Enviar mensaje con contexto<br>‚Ä¢ Metadata de respuesta<br></div></div></div>
        <div class="endpoint">
            <h3>/cross-service <span class="complexity complexity-medium">Complejidad: Media (4/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-post">POST</span></p>
            <p><strong>Funci√≥n:</strong> <code>cross_service_communication</code> | <strong>Archivo:</strong> chatbot_routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üìù Par√°metros:</div>
                <div class="logic-list">
<strong>Validation Rules:</strong> json_data<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">‚úÖ Validaciones:</div>
                <div class="logic-list">
‚Ä¢ <strong>required_field:</strong> json_data<br>‚Ä¢ <strong>custom_error:</strong> Mensaje requerido para comunicaci√≥n entre servicios<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Obtener servicio de chat<br>‚Ä¢ Procesar mensaje seg√∫n el servicio origen<br>‚Ä¢ Mensaje desde expert-bot-api<br>‚Ä¢ Comunicaci√≥n con expert-bot-api<br>‚Ä¢ Mensaje desde expert-bot-api<br></div></div></div>
        <div class="endpoint">
            <h3>/conversations <span class="complexity complexity-high">Complejidad: Alta (9/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-get">GET</span></p>
            <p><strong>Funci√≥n:</strong> <code>get_user_conversations</code> | <strong>Archivo:</strong> chatbot_routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üìù Par√°metros:</div>
                <div class="logic-list">
<strong>Query Parameters:</strong> limit, page<br><strong>Validation Rules:</strong> user_id<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Bigquery:</strong> <span class="service-tag">bq_client</span><span class="service-tag">bigquery</span><span class="service-tag">BigQuery</span><br><strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">‚úÖ Validaciones:</div>
                <div class="logic-list">
‚Ä¢ <strong>required_field:</strong> user_id<br>‚Ä¢ <strong>custom_error:</strong> Usuario no autenticado<br>‚Ä¢ <strong>custom_error:</strong> L√≠mite debe estar entre 1 y 100<br>‚Ä¢ <strong>custom_error:</strong> P√°gina debe ser mayor a 0<br>‚Ä¢ <strong>custom_error:</strong> Error obteniendo conversaciones<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Validar par√°metros de paginaci√≥n<br>‚Ä¢ Validar configuraci√≥n de BigQuery<br>‚Ä¢ Inicializar cliente BigQuery con manejo robusto<br>‚Ä¢ Query empresarial con validaci√≥n<br></div></div></div>
        <div class="endpoint">
            <h3>/conversations/<conversation_id> <span class="complexity complexity-high">Complejidad: Alta (10/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-delete">DELETE</span></p>
            <p><strong>Funci√≥n:</strong> <code>delete_conversation</code> | <strong>Archivo:</strong> chatbot_routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üìù Par√°metros:</div>
                <div class="logic-list">
<strong>Validation Rules:</strong> user_id, conversation_id<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Bigquery:</strong> <span class="service-tag">bq_client</span><span class="service-tag">bigquery</span><span class="service-tag">BigQuery</span><br><strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">‚úÖ Validaciones:</div>
                <div class="logic-list">
‚Ä¢ <strong>required_field:</strong> user_id<br>‚Ä¢ <strong>required_field:</strong> conversation_id<br>‚Ä¢ <strong>custom_error:</strong> Usuario no autenticado<br>‚Ä¢ <strong>custom_error:</strong> ID de conversaci√≥n requerido<br>‚Ä¢ <strong>custom_error:</strong> Conversaci√≥n no encontrada o ya eliminada<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Validar conversation_id<br>‚Ä¢ Validar configuraci√≥n BigQuery<br>‚Ä¢ Inicializar cliente BigQuery<br>‚Ä¢ Marcar conversaci√≥n como eliminada en BigQuery<br></div></div></div>
        <div class="endpoint">
            <h3>/health <span class="complexity complexity-medium">Complejidad: Media (6/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-get">GET</span></p>
            <p><strong>Funci√≥n:</strong> <code>chatbot_health_check</code> | <strong>Archivo:</strong> chatbot_routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üìù Par√°metros:</div>
                <div class="logic-list">
<strong>Validation Rules:</strong> test_url<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Bigquery:</strong> <span class="service-tag">bq_client</span><span class="service-tag">bigquery</span><span class="service-tag">BigQuery</span><br><strong>Requests:</strong> <span class="service-tag">requests.</span><br><strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">‚úÖ Validaciones:</div>
                <div class="logic-list">
‚Ä¢ <strong>required_field:</strong> test_url<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Verificar servicio de chat<br>‚Ä¢ Verificar BigQuery<br>‚Ä¢ Verificar comunicaci√≥n con expert-bot<br>‚Ä¢ Determinar estado final<br>‚Ä¢ chat_service.get_enterprise_metrics(<br></div></div></div>
        <div class="endpoint">
            <h3>/api/v1/links/test <span class="complexity complexity-medium">Complejidad: Media (4/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-post">POST</span></p>
            <p><strong>Funci√≥n:</strong> <code>test_links_system</code> | <strong>Archivo:</strong> links_routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üìù Par√°metros:</div>
                <div class="logic-list">
<strong>Validation Rules:</strong> data, response_text<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">‚úÖ Validaciones:</div>
                <div class="logic-list">
‚Ä¢ <strong>required_field:</strong> data<br>‚Ä¢ <strong>required_field:</strong> response_text<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Obtener servicio de enlaces<br>‚Ä¢ Procesar texto<br>‚Ä¢ Obtener estado del servicio<br>‚Ä¢ links_service.analyze_and_enhance_response(<br>‚Ä¢ links_service.get_enterprise_status(<br></div></div></div>
        <div class="endpoint">
            <h3>/api/v1/links/status <span class="complexity complexity-low">Complejidad: Baja (2/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-get">GET</span></p>
            <p><strong>Funci√≥n:</strong> <code>get_links_status</code> | <strong>Archivo:</strong> links_routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ links_service.get_enterprise_status(<br></div></div></div>
        <div class="endpoint">
            <h3>/api/v1/links/direct/<link_type> <span class="complexity complexity-low">Complejidad: Baja (2/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-get">GET</span></p>
            <p><strong>Funci√≥n:</strong> <code>get_direct_link</code> | <strong>Archivo:</strong> links_routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ links_service.get_direct_link(<br></div></div></div>
        <h2>üîß Expert Bot API</h2>
        <p><strong>Total de endpoints analizados:</strong> 26</p>

        <div class="endpoint">
            <h3>/session/start <span class="complexity complexity-low">Complejidad: Baja (3/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-post">POST</span><span class="method-tag method-options">OPTIONS</span></p>
            <p><strong>Funci√≥n:</strong> <code>start_chat_session</code> | <strong>Archivo:</strong> routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Firebase:</strong> <span class="service-tag">Auth</span><br><strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Manejar petici√≥n OPTIONS para CORS<br>‚Ä¢ chat_service.start_session(<br></div></div></div>
        <div class="endpoint">
            <h3>/message <span class="complexity complexity-high">Complejidad: Alta (7/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-post">POST</span><span class="method-tag method-options">OPTIONS</span></p>
            <p><strong>Funci√≥n:</strong> <code>post_message</code> | <strong>Archivo:</strong> routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üìù Par√°metros:</div>
                <div class="logic-list">
<strong>Validation Rules:</strong> json_data, conversation_id<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Firebase:</strong> <span class="service-tag">Auth</span><br><strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">‚úÖ Validaciones:</div>
                <div class="logic-list">
‚Ä¢ <strong>required_field:</strong> json_data<br>‚Ä¢ <strong>required_field:</strong> conversation_id<br>‚Ä¢ <strong>custom_error:</strong> Petici√≥n inv√°lida. El campo <br>‚Ä¢ <strong>custom_error:</strong> Error interno procesando mensaje: %s<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Manejar petici√≥n OPTIONS para CORS<br>‚Ä¢ Validaci√≥n empresarial robusta<br>‚Ä¢ Acepta tanto conversation_id como session_id para compatibilidad<br>‚Ä¢ chat_service.process_user_message(<br>‚Ä¢ process_user_message(<br></div></div></div>
        <div class="endpoint">
            <h3>/new-conversation <span class="complexity complexity-low">Complejidad: Baja (3/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-post">POST</span><span class="method-tag method-options">OPTIONS</span></p>
            <p><strong>Funci√≥n:</strong> <code>create_new_conversation</code> | <strong>Archivo:</strong> routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Firebase:</strong> <span class="service-tag">Auth</span><br><strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Manejar petici√≥n OPTIONS para CORS<br>‚Ä¢ Obtener conversation_id actual (opcional)<br>‚Ä¢ chat_service.create_new_conversation(<br></div></div></div>
        <div class="endpoint">
            <h3>/conversation/history <span class="complexity complexity-low">Complejidad: Baja (3/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-get">GET</span></p>
            <p><strong>Funci√≥n:</strong> <code>get_conversation_history</code> | <strong>Archivo:</strong> routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üìù Par√°metros:</div>
                <div class="logic-list">
<strong>Query Parameters:</strong> page, limit<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">‚úÖ Validaciones:</div>
                <div class="logic-list">
‚Ä¢ <strong>custom_error:</strong> Error interno recuperando historial: %s<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Par√°metros de paginaci√≥n<br>‚Ä¢ Validar l√≠mites empresariales<br>‚Ä¢ chat_service.get_conversation_history(<br></div></div></div>
        <div class="endpoint">
            <h3>/conversation/<conversation_id> <span class="complexity complexity-medium">Complejidad: Media (4/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-delete">DELETE</span><span class="method-tag method-options">OPTIONS</span></p>
            <p><strong>Funci√≥n:</strong> <code>delete_conversation</code> | <strong>Archivo:</strong> routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Firebase:</strong> <span class="service-tag">Auth</span><br><strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">‚úÖ Validaciones:</div>
                <div class="logic-list">
‚Ä¢ <strong>custom_error:</strong> Error interno borrando conversaci√≥n: %s<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Manejar petici√≥n OPTIONS para CORS<br>‚Ä¢ chat_service.delete_conversation(<br></div></div></div>
        <div class="endpoint">
            <h3>/conversation/feedback <span class="complexity complexity-high">Complejidad: Alta (8/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-post">POST</span><span class="method-tag method-options">OPTIONS</span></p>
            <p><strong>Funci√≥n:</strong> <code>submit_conversation_feedback</code> | <strong>Archivo:</strong> routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üìù Par√°metros:</div>
                <div class="logic-list">
<strong>Validation Rules:</strong> json_data, isinstance<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Firebase:</strong> <span class="service-tag">Auth</span><br><strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">‚úÖ Validaciones:</div>
                <div class="logic-list">
‚Ä¢ <strong>required_field:</strong> json_data<br>‚Ä¢ <strong>required_field:</strong> isinstance<br>‚Ä¢ <strong>type_validation:</strong> rating<br>‚Ä¢ <strong>custom_error:</strong> Rating debe ser un n√∫mero entero entre 1 y 5<br>‚Ä¢ <strong>custom_error:</strong> Error interno procesando feedback: %s<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Manejar petici√≥n OPTIONS para CORS<br>‚Ä¢ Validaci√≥n empresarial robusta<br>‚Ä¢ Validar rating<br>‚Ä¢ chat_service.submit_conversation_feedback(<br></div></div></div>
        <div class="endpoint">
            <h3>/metrics <span class="complexity complexity-low">Complejidad: Baja (3/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-get">GET</span></p>
            <p><strong>Funci√≥n:</strong> <code>get_user_metrics</code> | <strong>Archivo:</strong> routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">‚úÖ Validaciones:</div>
                <div class="logic-list">
‚Ä¢ <strong>custom_error:</strong> Error interno obteniendo m√©tricas: %s<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ chat_service.get_user_analytics(<br></div></div></div>
        <div class="endpoint">
            <h3>/consumption <span class="complexity complexity-low">Complejidad: Baja (2/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-post">POST</span></p>
            <p><strong>Funci√≥n:</strong> <code>upload_consumption_data</code> | <strong>Archivo:</strong> energy_routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Inicializar servicios empresariales<br>‚Ä¢ Procesar factura con aprendizaje autom√°tico<br>‚Ä¢ Aprendizaje autom√°tico empresarial<br>‚Ä¢ Personalizar respuesta de √©xito con nombre del usuario<br>‚Ä¢ NUNCA devolver errores t√©cnicos crudos al usuario<br></div></div></div>
        <div class="endpoint">
            <h3>/dashboard <span class="complexity complexity-low">Complejidad: Baja (2/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-get">GET</span></p>
            <p><strong>Funci√≥n:</strong> <code>get_dashboard_data</code> | <strong>Archivo:</strong> energy_routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Personalizar mensaje de bienvenida<br>‚Ä¢ NUNCA fallar - siempre devolver datos √∫tiles<br>‚Ä¢ Siempre 200 porque damos valor<br></div></div></div>
        <div class="endpoint">
            <h3>/users/profile <span class="complexity complexity-low">Complejidad: Baja (2/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-get">GET</span></p>
            <p><strong>Funci√≥n:</strong> <code>get_user_profile</code> | <strong>Archivo:</strong> energy_routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div></div>
        <div class="endpoint">
            <h3>/manual-data <span class="complexity complexity-medium">Complejidad: Media (5/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-post">POST</span></p>
            <p><strong>Funci√≥n:</strong> <code>add_manual_energy_data</code> | <strong>Archivo:</strong> energy_routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üìù Par√°metros:</div>
                <div class="logic-list">
<strong>Validation Rules:</strong> data, data<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">‚úÖ Validaciones:</div>
                <div class="logic-list">
‚Ä¢ <strong>required_field:</strong> data<br>‚Ä¢ <strong>required_field:</strong> data<br>‚Ä¢ <strong>custom_error:</strong> Datos requeridos en formato JSON.<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Validaci√≥n inteligente: solo verificar campos cr√≠ticos m√≠nimos<br>‚Ä¢ Estructurar datos como si vinieran del OCR MEJORADO<br>‚Ä¢ Campos cr√≠ticos (obligatorios)<br>‚Ä¢ Campos importantes (opcionales con defaults inteligentes)<br>‚Ä¢ Default espa√±ol t√≠pico<br></div></div></div>
        <div class="endpoint">
            <h3>/consumption/update <span class="complexity complexity-medium">Complejidad: Media (4/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-put">PUT</span></p>
            <p><strong>Funci√≥n:</strong> <code>update_consumption_data</code> | <strong>Archivo:</strong> energy_routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üìù Par√°metros:</div>
                <div class="logic-list">
<strong>Validation Rules:</strong> data<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">‚úÖ Validaciones:</div>
                <div class="logic-list">
‚Ä¢ <strong>required_field:</strong> data<br>‚Ä¢ <strong>custom_error:</strong> Datos requeridos en formato JSON.<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Validar y actualizar datos<br>‚Ä¢ Aprendizaje autom√°tico para actualizaciones<br>‚Ä¢ process_consumption_update_patterns(<br></div></div></div>
        <div class="endpoint">
            <h3>/consumption/history <span class="complexity complexity-low">Complejidad: Baja (2/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-get">GET</span></p>
            <p><strong>Funci√≥n:</strong> <code>get_consumption_history</code> | <strong>Archivo:</strong> energy_routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üìù Par√°metros:</div>
                <div class="logic-list">
<strong>Query Parameters:</strong> months, page, limit<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Par√°metros de consulta<br>‚Ä¢ Validar l√≠mites<br></div></div></div>
        <div class="endpoint">
            <h3>/consumption/analyze <span class="complexity complexity-low">Complejidad: Baja (2/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-post">POST</span></p>
            <p><strong>Funci√≥n:</strong> <code>analyze_consumption</code> | <strong>Archivo:</strong> energy_routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ An√°lisis empresarial avanzado<br>‚Ä¢ Enriquecer con aprendizaje autom√°tico<br></div></div></div>
        <div class="endpoint">
            <h3>/consumption/recommendations <span class="complexity complexity-low">Complejidad: Baja (2/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-get">GET</span></p>
            <p><strong>Funci√≥n:</strong> <code>get_consumption_recommendations</code> | <strong>Archivo:</strong> energy_routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Obtener recomendaciones base<br>‚Ä¢ Enriquecer con IA<br></div></div></div>
        <div class="endpoint">
            <h3>/consumption/compare <span class="complexity complexity-low">Complejidad: Baja (2/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-post">POST</span></p>
            <p><strong>Funci√≥n:</strong> <code>compare_tariffs</code> | <strong>Archivo:</strong> energy_routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Comparaci√≥n de tarifas<br>‚Ä¢ Enriquecer con aprendizaje autom√°tico<br></div></div></div>
        <div class="endpoint">
            <h3>/consumption/title <span class="complexity complexity-medium">Complejidad: Media (4/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-put">PUT</span></p>
            <p><strong>Funci√≥n:</strong> <code>update_consumption_title</code> | <strong>Archivo:</strong> energy_routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üìù Par√°metros:</div>
                <div class="logic-list">
<strong>Validation Rules:</strong> data<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">‚úÖ Validaciones:</div>
                <div class="logic-list">
‚Ä¢ <strong>required_field:</strong> data<br>‚Ä¢ <strong>custom_error:</strong> Se requieren <br></div></div></div>
        <div class="endpoint">
            <h3>/api/v1/analysis/sentiment <span class="complexity complexity-high">Complejidad: Alta (10/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-post">POST</span><span class="method-tag method-options">OPTIONS</span></p>
            <p><strong>Funci√≥n:</strong> <code>analyze_sentiment</code> | <strong>Archivo:</strong> analysis_routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üìù Par√°metros:</div>
                <div class="logic-list">
<strong>Validation Rules:</strong> json_data, json_data, message_text, message_text<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Firebase:</strong> <span class="service-tag">Auth</span><br><strong>Requests:</strong> <span class="service-tag">HTTP</span><br><strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">‚úÖ Validaciones:</div>
                <div class="logic-list">
‚Ä¢ <strong>required_field:</strong> json_data<br>‚Ä¢ <strong>required_field:</strong> json_data<br>‚Ä¢ <strong>required_field:</strong> message_text<br>‚Ä¢ <strong>length_validation:</strong> message_text<br>‚Ä¢ <strong>custom_error:</strong> Petici√≥n inv√°lida. Se requieren datos JSON.<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Manejar petici√≥n OPTIONS para CORS<br>‚Ä¢ Validaci√≥n empresarial robusta<br>‚Ä¢ Validar longitud del mensaje<br>‚Ä¢ Extraer par√°metros opcionales<br>‚Ä¢ Inicializar servicio de AI Learning<br></div></div></div>
        <div class="endpoint">
            <h3>/user/tasks <span class="complexity complexity-medium">Complejidad: Media (4/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-get">GET</span></p>
            <p><strong>Funci√≥n:</strong> <code>get_user_task_dashboard</code> | <strong>Archivo:</strong> async_routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üìù Par√°metros:</div>
                <div class="logic-list">
<strong>Query Parameters:</strong> status, task_type, limit<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Bigquery:</strong> <span class="service-tag">bigquery</span><span class="service-tag">BigQuery</span><br><strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">‚úÖ Validaciones:</div>
                <div class="logic-list">
‚Ä¢ <strong>custom_error:</strong> Error interno generando dashboard de tareas<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Obtener par√°metros de filtro<br>‚Ä¢ M√°ximo 100 tareas<br>‚Ä¢ Obtener todas las tareas del usuario desde BigQuery<br>‚Ä¢ Procesar tareas para el dashboard<br>‚Ä¢ Agregar descripci√≥n amigable para el usuario<br></div></div></div>
        <div class="endpoint">
            <h3>/user/tasks <span class="complexity complexity-medium">Complejidad: Media (5/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-post">POST</span></p>
            <p><strong>Funci√≥n:</strong> <code>create_user_task</code> | <strong>Archivo:</strong> async_routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üìù Par√°metros:</div>
                <div class="logic-list">
<strong>Validation Rules:</strong> data, task_request<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">‚úÖ Validaciones:</div>
                <div class="logic-list">
‚Ä¢ <strong>required_field:</strong> data<br>‚Ä¢ <strong>custom_error:</strong> Datos JSON requeridos<br>‚Ä¢ <strong>custom_error:</strong> Error interno creando tarea<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Validar datos de entrada<br>‚Ä¢ Validaci√≥n empresarial estricta<br>‚Ä¢ Crear tarea empresarial<br>‚Ä¢ Obtener estado inicial de la tarea<br></div></div></div>
        <div class="endpoint">
            <h3>/user/tasks/<task_id> <span class="complexity complexity-medium">Complejidad: Media (6/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-get">GET</span></p>
            <p><strong>Funci√≥n:</strong> <code>get_user_task_status</code> | <strong>Archivo:</strong> async_routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üìù Par√°metros:</div>
                <div class="logic-list">
<strong>Validation Rules:</strong> results<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Bigquery:</strong> <span class="service-tag">bigquery</span><br><strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">‚úÖ Validaciones:</div>
                <div class="logic-list">
‚Ä¢ <strong>required_field:</strong> results<br>‚Ä¢ <strong>custom_error:</strong> Tarea no encontrada<br>‚Ä¢ <strong>custom_error:</strong> Error interno obteniendo estado de tarea<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Verificar que la tarea pertenece al usuario<br>‚Ä¢ calculate_task_progress(<br></div></div></div>
        <div class="endpoint">
            <h3>/admin/system/metrics <span class="complexity complexity-medium">Complejidad: Media (4/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-get">GET</span></p>
            <p><strong>Funci√≥n:</strong> <code>get_admin_system_metrics</code> | <strong>Archivo:</strong> async_routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üìù Par√°metros:</div>
                <div class="logic-list">
<strong>Query Parameters:</strong> time_range, include_details<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Bigquery:</strong> <span class="service-tag">bigquery</span><br><strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">‚úÖ Validaciones:</div>
                <div class="logic-list">
‚Ä¢ <strong>custom_error:</strong> Error interno generando m√©tricas del sistema<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Obtener par√°metros de filtro<br>‚Ä¢ Obtener m√©tricas del sistema en tiempo real<br>‚Ä¢ Calcular rango de tiempo<br>‚Ä¢ Query para m√©tricas hist√≥ricas de tareas<br>‚Ä¢ Query para m√©tricas de workers<br></div></div></div>
        <div class="endpoint">
            <h3>/admin/tasks/management <span class="complexity complexity-medium">Complejidad: Media (4/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-get">GET</span></p>
            <p><strong>Funci√≥n:</strong> <code>get_admin_task_management</code> | <strong>Archivo:</strong> async_routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üìù Par√°metros:</div>
                <div class="logic-list">
<strong>Query Parameters:</strong> status, task_type, user_id, priority, limit, offset<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Bigquery:</strong> <span class="service-tag">bigquery</span><br><strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">‚úÖ Validaciones:</div>
                <div class="logic-list">
‚Ä¢ <strong>custom_error:</strong> Error interno generando panel de gesti√≥n<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Obtener par√°metros de filtro<br>‚Ä¢ M√°ximo 1000 tareas<br>‚Ä¢ Construir query din√°mico con filtros<br>‚Ä¢ Query principal para tareas<br>‚Ä¢ Query para contar total de tareas (para paginaci√≥n)<br></div></div></div>
        <div class="endpoint">
            <h3>/links/test <span class="complexity complexity-medium">Complejidad: Media (4/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-post">POST</span></p>
            <p><strong>Funci√≥n:</strong> <code>test_links_system</code> | <strong>Archivo:</strong> links_routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üìù Par√°metros:</div>
                <div class="logic-list">
<strong>Validation Rules:</strong> data, response_text<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">‚úÖ Validaciones:</div>
                <div class="logic-list">
‚Ä¢ <strong>required_field:</strong> data<br>‚Ä¢ <strong>required_field:</strong> response_text<br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ Obtener servicio de enlaces<br>‚Ä¢ Procesar texto<br>‚Ä¢ Obtener estado del servicio<br>‚Ä¢ links_service.analyze_and_enhance_response(<br>‚Ä¢ links_service.get_enterprise_status(<br></div></div></div>
        <div class="endpoint">
            <h3>/links/status <span class="complexity complexity-low">Complejidad: Baja (2/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-get">GET</span></p>
            <p><strong>Funci√≥n:</strong> <code>get_links_status</code> | <strong>Archivo:</strong> links_routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ links_service.get_enterprise_status(<br></div></div></div>
        <div class="endpoint">
            <h3>/links/direct/<link_type> <span class="complexity complexity-low">Complejidad: Baja (2/10)</span></h3>
            <p><strong>M√©todos:</strong> <span class="method-tag method-get">GET</span></p>
            <p><strong>Funci√≥n:</strong> <code>get_direct_link</code> | <strong>Archivo:</strong> links_routes.py</p>

            <div class="logic-section">
                <div class="logic-title">üîß Servicios Utilizados:</div>
                <div class="logic-list">
<strong>Logging:</strong> <span class="service-tag">logger</span><br></div></div>
            <div class="logic-section">
                <div class="logic-title">üíº L√≥gica de Negocio:</div>
                <div class="logic-list">
‚Ä¢ links_service.get_direct_link(<br></div></div></div>
    </div>
</body>
</html>